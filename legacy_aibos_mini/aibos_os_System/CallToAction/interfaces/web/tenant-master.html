<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-BOS Tenant Master - Control Panel</title>
    <link rel="stylesheet" href="tenant-master-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="tenant-workspace">
        <!-- Tenant Header -->
        <header class="tenant-header">
            <div class="header-left">
                <h1>üè¢ Tenant Master Control Panel</h1>
                <span class="tenant-badge">Acme Corporation</span>
            </div>
            <div class="header-right">
                <div class="tenant-status">
                    <span class="status-dot online"></span>
                    <span>Tenant Active</span>
                </div>
                <div class="user-info">
                    <span class="user-name">Tenant Admin</span>
                    <span class="user-role">Administrator</span>
                </div>
            </div>
        </header>

        <!-- Tenant Navigation -->
        <nav class="tenant-nav">
            <div class="nav-section">
                <h3>Tenant Control</h3>
                <a href="#overview" class="nav-item active" onclick="showSection('overview')">
                    <span class="nav-icon">üìä</span>
                    <span>Tenant Overview</span>
                </a>
                <a href="#users" class="nav-item" onclick="showSection('users')">
                    <span class="nav-icon">üë•</span>
                    <span>User Management</span>
                </a>
                <a href="#modules" class="nav-item" onclick="showSection('modules')">
                    <span class="nav-icon">üì¶</span>
                    <span>Tenant Modules</span>
                </a>
            </div>
            
            <div class="nav-section">
                <h3>Access & Security</h3>
                <a href="#access" class="nav-item" onclick="showSection('access')">
                    <span class="nav-icon">üîê</span>
                    <span>Access Control</span>
                </a>
                <a href="#permissions" class="nav-item" onclick="showSection('permissions')">
                    <span class="nav-icon">üõ°Ô∏è</span>
                    <span>Permissions</span>
                </a>
                <a href="#audit" class="nav-item" onclick="showSection('audit')">
                    <span class="nav-icon">üìã</span>
                    <span>Audit Logs</span>
                </a>
            </div>
            
            <div class="nav-section">
                <h3>Analytics & Billing</h3>
                <a href="#analytics" class="nav-item" onclick="showSection('analytics')">
                    <span class="nav-icon">üìà</span>
                    <span>Tenant Analytics</span>
                </a>
                <a href="#billing" class="nav-item" onclick="showSection('billing')">
                    <span class="nav-icon">üí∞</span>
                    <span>Billing & Usage</span>
                </a>
                <a href="#settings" class="nav-item" onclick="showSection('settings')">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Tenant Settings</span>
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="tenant-content">
            <!-- Tenant Overview Section -->
            <section id="overview-section" class="content-section active">
                <div class="section-header">
                    <h2>Tenant Overview</h2>
                    <p>Control panel for Acme Corporation tenant</p>
                </div>

                <!-- Tenant Metrics -->
                <div class="tenant-metrics">
                    <div class="metric-card primary">
                        <div class="metric-header">
                            <span class="metric-icon">üë•</span>
                            <span class="metric-title">Total Users</span>
                        </div>
                        <div class="metric-value" id="totalUsers">156</div>
                        <div class="metric-change positive">+12 this month</div>
                    </div>
                    
                    <div class="metric-card primary">
                        <div class="metric-header">
                            <span class="metric-icon">üì¶</span>
                            <span class="metric-title">Active Modules</span>
                        </div>
                        <div class="metric-value" id="activeModules">8</div>
                        <div class="metric-change positive">+2 this week</div>
                    </div>
                    
                    <div class="metric-card primary">
                        <div class="metric-header">
                            <span class="metric-icon">‚ö°</span>
                            <span class="metric-title">System Usage</span>
                        </div>
                        <div class="metric-value" id="systemUsage">67%</div>
                        <div class="metric-change neutral">Stable</div>
                    </div>
                    
                    <div class="metric-card primary">
                        <div class="metric-header">
                            <span class="metric-icon">üí∞</span>
                            <span class="metric-title">Monthly Cost</span>
                        </div>
                        <div class="metric-value" id="monthlyCost">$2,450</div>
                        <div class="metric-change negative">+15% this month</div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn primary" onclick="addUser()">
                            <span class="action-icon">üë§</span>
                            <span class="action-text">Add User</span>
                        </button>
                        <button class="action-btn secondary" onclick="installModule()">
                            <span class="action-icon">üì¶</span>
                            <span class="action-text">Install Module</span>
                        </button>
                        <button class="action-btn secondary" onclick="configureAccess()">
                            <span class="nav-icon">üîê</span>
                            <span class="action-text">Configure Access</span>
                        </button>
                        <button class="action-btn secondary" onclick="viewBilling()">
                            <span class="action-icon">üí∞</span>
                            <span class="action-text">View Billing</span>
                        </button>
                    </div>
                </div>

                <!-- Tenant Charts -->
                <div class="tenant-charts">
                    <div class="chart-container">
                        <h3>User Activity</h3>
                        <canvas id="userActivityChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Module Usage</h3>
                        <canvas id="moduleUsageChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- User Management Section -->
            <section id="users-section" class="content-section">
                <div class="section-header">
                    <h2>User Management</h2>
                    <p>Manage users within the tenant</p>
                </div>

                <div class="users-toolbar">
                    <div class="search-box">
                        <input type="text" id="user-search" placeholder="Search users...">
                    </div>
                    <div class="toolbar-actions">
                        <button class="btn-primary" onclick="addUser()">
                            <span class="btn-icon">üë§</span>
                            Add User
                        </button>
                        <button class="btn-secondary" onclick="bulkUserActions()">
                            <span class="btn-icon">‚öôÔ∏è</span>
                            Bulk Actions
                        </button>
                    </div>
                </div>

                <div class="users-grid" id="usersGrid">
                    <!-- Users will be loaded here -->
                </div>
            </section>

            <!-- Tenant Modules Section -->
            <section id="modules-section" class="content-section">
                <div class="section-header">
                    <h2>Tenant Modules</h2>
                    <p>Manage modules installed for this tenant</p>
                </div>

                <div class="modules-toolbar">
                    <div class="search-box">
                        <input type="text" id="module-search" placeholder="Search modules...">
                    </div>
                    <div class="toolbar-actions">
                        <button class="btn-primary" onclick="installModule()">
                            <span class="btn-icon">üì¶</span>
                            Install Module
                        </button>
                        <button class="btn-secondary" onclick="moduleStore()">
                            <span class="btn-icon">üè™</span>
                            Module Store
                        </button>
                    </div>
                </div>

                <div class="modules-grid" id="modulesGrid">
                    <!-- Tenant modules will be loaded here -->
                </div>
            </section>

            <!-- Access Control Section -->
            <section id="access-section" class="content-section">
                <div class="section-header">
                    <h2>Access Control</h2>
                    <p>Configure access policies and SSO settings</p>
                </div>

                <div class="access-config">
                    <div class="config-card">
                        <h3>SSO Configuration</h3>
                        <div class="config-item">
                            <label>SSO Status</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="sso-enabled" checked>
                                <label for="sso-enabled"></label>
                                <span>Enabled</span>
                            </div>
                        </div>
                        <div class="config-item">
                            <label>Identity Provider</label>
                            <input type="text" id="idp-name" value="Acme Corp SSO" readonly>
                        </div>
                        <div class="config-item">
                            <label>Last Sync</label>
                            <input type="text" id="last-sync" value="30 minutes ago" readonly>
                        </div>
                        <button class="btn-primary" onclick="syncSSO()">Sync Now</button>
                    </div>

                    <div class="config-card">
                        <h3>Access Policies</h3>
                        <div class="policy-list">
                            <div class="policy-item">
                                <span class="policy-name">IP Whitelist</span>
                                <span class="policy-status enabled">Enabled</span>
                                <button onclick="editPolicy('ip-whitelist')" class="btn-secondary">Edit</button>
                            </div>
                            <div class="policy-item">
                                <span class="policy-name">MFA Required</span>
                                <span class="policy-status enabled">Enabled</span>
                                <button onclick="editPolicy('mfa')" class="btn-secondary">Edit</button>
                            </div>
                            <div class="policy-item">
                                <span class="policy-name">Session Timeout</span>
                                <span class="policy-status">8 hours</span>
                                <button onclick="editPolicy('session')" class="btn-secondary">Edit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Permissions Section -->
            <section id="permissions-section" class="content-section">
                <div class="section-header">
                    <h2>Permissions Management</h2>
                    <p>Manage user roles and permissions</p>
                </div>

                <div class="permissions-grid">
                    <div class="permissions-card">
                        <h3>User Roles</h3>
                        <div class="roles-list">
                            <div class="role-item">
                                <div class="role-info">
                                    <h4>Administrator</h4>
                                    <span class="role-users">3 users</span>
                                </div>
                                <div class="role-actions">
                                    <button onclick="editRole('admin')" class="btn-secondary">Edit</button>
                                    <button onclick="viewRoleUsers('admin')" class="btn-secondary">Users</button>
                                </div>
                            </div>
                            <div class="role-item">
                                <div class="role-info">
                                    <h4>Manager</h4>
                                    <span class="role-users">12 users</span>
                                </div>
                                <div class="role-actions">
                                    <button onclick="editRole('manager')" class="btn-secondary">Edit</button>
                                    <button onclick="viewRoleUsers('manager')" class="btn-secondary">Users</button>
                                </div>
                            </div>
                            <div class="role-item">
                                <div class="role-info">
                                    <h4>User</h4>
                                    <span class="role-users">141 users</span>
                                </div>
                                <div class="role-actions">
                                    <button onclick="editRole('user')" class="btn-secondary">Edit</button>
                                    <button onclick="viewRoleUsers('user')" class="btn-secondary">Users</button>
                                </div>
                            </div>
                        </div>
                        <button class="btn-primary" onclick="createRole()">Create New Role</button>
                    </div>

                    <div class="permissions-card">
                        <h3>Module Permissions</h3>
                        <div class="module-permissions">
                            <div class="module-permission">
                                <span class="module-name">CRM Module</span>
                                <div class="permission-levels">
                                    <label><input type="checkbox" checked> Read</label>
                                    <label><input type="checkbox" checked> Write</label>
                                    <label><input type="checkbox"> Admin</label>
                                </div>
                            </div>
                            <div class="module-permission">
                                <span class="module-name">Analytics Module</span>
                                <div class="permission-levels">
                                    <label><input type="checkbox" checked> Read</label>
                                    <label><input type="checkbox"> Write</label>
                                    <label><input type="checkbox"> Admin</label>
                                </div>
                            </div>
                            <div class="module-permission">
                                <span class="module-name">Billing Module</span>
                                <div class="permission-levels">
                                    <label><input type="checkbox" checked> Read</label>
                                    <label><input type="checkbox" checked> Write</label>
                                    <label><input type="checkbox" checked> Admin</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Audit Logs Section -->
            <section id="audit-section" class="content-section">
                <div class="section-header">
                    <h2>Audit Logs</h2>
                    <p>Monitor tenant activity and security events</p>
                </div>

                <div class="audit-controls">
                    <div class="audit-filters">
                        <select id="audit-level">
                            <option value="all">All Levels</option>
                            <option value="info">Info</option>
                            <option value="warning">Warning</option>
                            <option value="error">Error</option>
                        </select>
                        <select id="audit-user">
                            <option value="all">All Users</option>
                            <option value="admin">Administrators</option>
                            <option value="manager">Managers</option>
                            <option value="user">Users</option>
                        </select>
                    </div>
                    <button class="btn-secondary" onclick="exportAuditLogs()">Export Logs</button>
                </div>

                <div class="audit-container">
                    <div class="audit-list" id="auditList">
                        <!-- Audit logs will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Tenant Analytics Section -->
            <section id="analytics-section" class="content-section">
                <div class="section-header">
                    <h2>Tenant Analytics</h2>
                    <p>Analytics and insights for this tenant</p>
                </div>

                <div class="analytics-controls">
                    <select id="analytics-timeRange" onchange="updateTenantAnalytics()">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                        <option value="90d">Last 90 Days</option>
                    </select>
                    <button onclick="refreshTenantAnalytics()" class="refresh-btn">üîÑ</button>
                </div>

                <div class="analytics-grid">
                    <div class="chart-container">
                        <h3>User Activity Trends</h3>
                        <canvas id="userActivityTrendsChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Module Performance</h3>
                        <canvas id="modulePerformanceChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Billing Section -->
            <section id="billing-section" class="content-section">
                <div class="section-header">
                    <h2>Billing & Usage</h2>
                    <p>Monitor usage and manage billing</p>
                </div>

                <div class="billing-grid">
                    <div class="billing-card">
                        <h3>Current Usage</h3>
                        <div class="usage-metrics">
                            <div class="usage-metric">
                                <span class="metric-label">Storage Used</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 67%"></div>
                                </div>
                                <span class="metric-value">67% (1.34 TB / 2 TB)</span>
                            </div>
                            <div class="usage-metric">
                                <span class="metric-label">API Calls</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%"></div>
                                </div>
                                <span class="metric-value">45% (450K / 1M calls)</span>
                            </div>
                            <div class="usage-metric">
                                <span class="metric-label">Active Users</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%"></div>
                                </div>
                                <span class="metric-value">78% (122 / 156 users)</span>
                            </div>
                        </div>
                    </div>

                    <div class="billing-card">
                        <h3>Billing Summary</h3>
                        <div class="billing-summary">
                            <div class="billing-item">
                                <span class="billing-label">Current Plan</span>
                                <span class="billing-value">Enterprise</span>
                            </div>
                            <div class="billing-item">
                                <span class="billing-label">Monthly Cost</span>
                                <span class="billing-value">$2,450</span>
                            </div>
                            <div class="billing-item">
                                <span class="billing-label">Next Billing</span>
                                <span class="billing-value">Feb 15, 2024</span>
                            </div>
                            <div class="billing-item">
                                <span class="billing-label">Overage Charges</span>
                                <span class="billing-value">$0</span>
                            </div>
                        </div>
                        <button class="btn-primary" onclick="upgradePlan()">Upgrade Plan</button>
                    </div>
                </div>
            </section>

            <!-- Tenant Settings Section -->
            <section id="settings-section" class="content-section">
                <div class="section-header">
                    <h2>Tenant Settings</h2>
                    <p>Configure tenant-specific settings</p>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>General Settings</h3>
                        <div class="setting-item">
                            <label>Tenant Name</label>
                            <input type="text" id="tenant-name" value="Acme Corporation">
                        </div>
                        <div class="setting-item">
                            <label>Domain</label>
                            <input type="text" id="tenant-domain" value="acme.ai-bos.com">
                        </div>
                        <div class="setting-item">
                            <label>Timezone</label>
                            <select id="tenant-timezone">
                                <option value="UTC">UTC</option>
                                <option value="EST" selected>Eastern Time</option>
                                <option value="PST">Pacific Time</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="saveGeneralSettings()">Save Settings</button>
                    </div>

                    <div class="settings-card">
                        <h3>Notification Settings</h3>
                        <div class="notification-settings">
                            <div class="notification-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Security alerts
                                </label>
                            </div>
                            <div class="notification-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Usage warnings
                                </label>
                            </div>
                            <div class="notification-item">
                                <label>
                                    <input type="checkbox">
                                    Module updates
                                </label>
                            </div>
                            <div class="notification-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Billing notifications
                                </label>
                            </div>
                        </div>
                        <button class="btn-primary" onclick="saveNotificationSettings()">Save Settings</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="tenant-master.js"></script>
</body>
</html> 